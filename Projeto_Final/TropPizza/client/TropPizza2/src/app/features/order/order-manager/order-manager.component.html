<div class="row text-center">
  <h1>Editar Pedidos</h1>
</div>
<div class="row justify-content-around">
  <div class="col-10">
    <div class="row">
      <div class="col">
        <table class="table table-striped table-hover text-center">
          <colgroup>
            <col span="1" style="width: 5%"> <!-- id -->
            <col span="1" style="width: 10%"> <!-- CPF cliente -->
            <col span="1" style="width: 50%"> <!-- Produtos -->
            <col span="1" style="width: 20%"> <!-- Data e hora pedido -->
            <col span="1" style="width: 10%"> <!-- Status -->
            <col span="1" style="width: 1%"> <!-- Alterar status -->
            <col span="1" style="width: 1%"> <!-- Acompanhar -->
            <col span="1" style="width: 1%"> <!-- Deletar -->
          </colgroup>
          <caption class="caption-top p-0 ps-1 pb-2"><strong>Tabela 1.</strong> Lista de pedidos.
          </caption>
          <thead>
            <tr>
              <th>ID</th>
              <th>CPF cliente</th>
              <th>Produtos</th>
              <th>Data - Hora</th>
              <th>Status</th>
              <th></th>
              <th></th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let order of orders">
              <td>{{ order.id }}</td>
              <td>{{ order.orderCustomer ? order.orderCustomer.cpf : "-" }}</td>
              <td>{{ showOrderProducts(order) }}</td>
              <!-- <td>{{ showOrderToString(order) }}</td> -->
              <td>{{ order.orderDateTime | date:'dd/MM/yyy - hh:mm' }}</td>
              <td>{{ order.status }}</td>
              <td><button type="button" class="btn btn-warning btn-sm" title="Alterar status" (click)="showDeletePopUp(order.id)">
                  <i class="bi bi-clock"></i></button></td>
              <td><button type="button" class="btn btn-info btn-sm" title="Acompanhar pedido"
                  (click)="trackOrder(order.id)">
                  <i class="bi bi-pin-map"></i></button></td>
              <td *ngIf="order.statusEnum != 3; else other_content"><button type="button"
                  class="btn btn-dark btn-sm" title="Excluir" (click)="showDeletePopUp(order.id)">
                  <i class="bi bi-trash3"></i></button></td>
              <ng-template #other_content>
                <td><button disabled type="button" class="btn btn-dark btn-sm" title="Excluir"><i
                      class="bi bi-trash3"></i></button></td>
              </ng-template>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div *ngIf="deletePopUpShowing">
  <div class="page-lock">
    <div class="delete-popup popup-message text-center">

      <span>Você realmente deseja deletar o pedido n° {{orders[+orderToDeleteIndex-1].id}}?</span>
      <br>
      <button class="btn btn-danger" (click)="confirmDelete()">Confirmar deleção</button>
      <br>
      <button class="btn btn-dark" (click)="closeDeletePopUp()">Não, me tire daqui!</button>
      <br>
      <p></p>
    </div>
  </div>
</div>