<div class="container">
  <div class="row">
    <div class="col-12">
      <h1>Formulário de Produtos</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-4">
      <div class="row">
        <div class="col-12">
          <form (ngSubmit)="submitContact()" [formGroup]="form">
            <div class="form-group">
              <label class="form-label" for="name">Nome</label>
              <input class="form-control" type="text" id="name" name="name" formControlName="name" autocomplete="off" />
              <div class="alert alert-danger" [hidden]="form.get('name')?.valid || form.get('name')?.pristine">
                <span *ngIf="form.get('name')?.errors?.['required']">O nome é obrigatório!</span>
                <span *ngIf="form.get('name')?.errors?.['minlength']">O nome precisa ter pelo menos 3 caracteres!</span>
              </div>
            </div>
            <br>
            <div class="form-group">
              <label class="form-label" for="quantity">Quantidade</label>
              <input class="form-control" type="number" id="quantity" name="quantity" formControlName="quantity" autocomplete="off" />
              <div class="alert alert-danger" [hidden]="form.get('quantity')?.valid || form.get('quantity')?.pristine">
                <span *ngIf="form.get('quantity')?.errors?.['min']">A quantidade deve ser maior ou igual a zero!</span>
              </div>
            </div>
            <br>
            <div class="form-group">
              <label class="form-label" for="price">Preço</label>
              <input class="form-control" type="number" id="price" name="price" formControlName="price" autocomplete="off" />
              <div class="alert alert-danger" [hidden]="form.get('price')?.valid || form.get('price')?.pristine">
                <span *ngIf="form.get('price')?.errors?.['min']">O preço deve ser maior ou igual a zero!</span>
              </div>
            </div>
            <br>
            <input (click)="submitProduct()" [disabled]="!form.valid" type="submit" class="btn btn-success"
              value="Salvar" />
          </form>
        </div>
      </div>
    </div>
    <div class="col-8">
      <div class="row">
        <div class="col-12">
          <table class="table table-striped table-hover text-center">
            <colgroup>
              <col span="1" style="width: 40%">
              <col span="1" style="width: 30%">
              <col span="1" style="width: 30%">
          </colgroup>
          <caption class="caption-top p-0 ps-1 pb-2"><strong>Tabela 1.</strong> Lista de produtos.
          </caption>
            <thead>
              <tr>
                <th>Nome</th>
                <th>Quantidade</th>
                <th>Preço</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let product of products">
                <td>{{ product.name }}</td>
                <td>{{ product.quantity }}</td>
                <td>{{ ("R$ " + product.price.toFixed(2)) }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>